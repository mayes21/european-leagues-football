import{a as x,b as H}from"./chunk-S2WOUBTO.js";import{B as k,C as O,D as M,E as P,J as j,a as y,b as I,c as b,d as c,e as C,h as g,i as r,j as p,k as f,l as n,m as o,n as h,p as _,q as w,r as m,s as d,u as T,y as F,z as E}from"./chunk-P3KFQISV.js";var D=(()=>{let e=class e{constructor(){this.httpClient=c(P),this.seasonService=c(H)}getFixture(s,a){let u=new O({"x-rapidapi-key":x.API_KEY}),v=new M().set("league",a.toString()).set("team",s.toString()).set("season",this.seasonService.getCurrentSeason()).set("last",10);return this.httpClient.get(`${x.API_URL}/fixtures`,{headers:u,params:v}).pipe(I(U=>{let S=[];return U.response.slice(0,10).forEach(l=>{S.push({homeTeam:{name:l.teams.home.name,logo:l.teams.home.logo,goals:l.goals.home},awayTeam:{name:l.teams.away.name,logo:l.teams.away.logo,goals:l.goals.away}})}),S}))}};e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A(t,e){if(t&1&&(n(0,"tr")(1,"td"),h(2,"img",4),o(),n(3,"td"),m(4),o(),n(5,"td"),m(6),o(),n(7,"td"),m(8," - "),o(),n(9,"td"),m(10),o(),n(11,"td"),m(12),o(),n(13,"td"),h(14,"img",4),o()()),t&2){let i=e.$implicit;r(2),p("src",i.homeTeam.logo,g)("alt",i.homeTeam.name+"logo"),r(2),d(i.homeTeam.name),r(2),d(i.homeTeam.goals),r(4),d(i.awayTeam.goals),r(2),d(i.awayTeam.name),r(2),p("src",i.awayTeam.logo,g)("alt",i.awayTeam.name+"logo")}}function N(t,e){if(t&1&&(n(0,"div",2)(1,"table")(2,"tbody"),f(3,A,15,8,"tr",3),o()()()),t&2){let i=w();r(3),p("ngForOf",i.fixtures)}}var te=(()=>{let e=class e{constructor(){this.fixtureService=c(D),this.router=c(j),this.fixtureSubscription=new y,this.fixtures=[]}ngOnInit(){this.fixtureSubscription=this.fixtureService.getFixture(this.teamId,this.leagueId).subscribe(s=>this.fixtures=s)}back(){this.router.navigate(["league",this.leagueId])}ngOnDestroy(){this.fixtureSubscription.unsubscribe()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=C({type:e,selectors:[["app-fixture"]],inputs:{leagueId:"leagueId",teamId:"teamId"},standalone:!0,features:[T],decls:3,vars:1,consts:[["class","container",4,"ngIf"],[3,"click"],[1,"container"],[4,"ngFor","ngForOf"],[1,"logo",3,"src","alt"]],template:function(a,u){a&1&&(f(0,N,4,1,"div",0),n(1,"button",1),_("click",function(){return u.back()}),m(2,"Back"),o()),a&2&&p("ngIf",u.fixtures.length)},dependencies:[k,F,E],styles:["table[_ngcontent-%COMP%]{border:1px black solid;border-radius:2em;padding:1em 1.5em}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{justify-content:center;text-align:center;padding:1em .5em}.logo[_ngcontent-%COMP%]{width:2em}"]});let t=e;return t})();export{te as FixtureComponent};
